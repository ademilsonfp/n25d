function arr_fn(name){return function(arr){return arr_proto[name].apply(arr,slice(arguments,1))}}function slice(arr){return _slice.call(arr,_slice.call(arguments,1))}function len(obj){return obj.length}function math_attr(name){return Math[name]}function math_fn(name){return Math[name].bind(Math)}function rad(angle){return angle*PI/180}function lines_collide(as,ae,bs,be){return as>=bs&&as<=be||ae>=bs&&ae<=be}function obj_new_prop(props){var name;do name=obj2str(Number(36+floor(1260*random())),36);while(-1<index_of(props,name));push(props,name);return name}function obj_descriptor(){return obj_new_prop.bind(null,[])}function obj_prop(name){return function(obj,value){if(1<len(arguments)&&value!==obj[name])obj[name]=value;else return obj[name]}}function obj_fn(name){return function(obj){return obj[name].apply(obj,slice(arguments,1))}}function dom_attr(name){return document[name]}function dom_fn(name){return dom_attr(name).bind(document)}function dom_el_fn(name){return function(el){return dom_el_proto[name].apply(el,slice(arguments,1))}}function dom_ev_fn(name){return function(el){return dom_ev_proto[name].apply(el,slice(arguments,1))}}function dom_ev_onlistener(name){return function(el){return dom_el_on.apply(null,concat([el,name],slice(arguments,1)))}}function dom_ev_offlistener(name){return function(el){return dom_el_off.apply(null,concat([el,name],slice(arguments,1)))}}function dom_ev_trigger(name){return function(el){return dom_el_trigger.apply(null,concat([el,name],slice(arguments,1)))}}function canvas_fn(name){return function(el){return canvas_proto[name].apply(el,slice(arguments,1))}}function canvas_ctx(canvas){return canvas_get_ctx(canvas,"2d")}function canvas_ctx_fn(name){return function(ctx){return canvas_ctx_proto[name].apply(ctx,slice(arguments,1))}}function point(){var new_p={},p=1===len(arguments)&&"object"===typeof arguments[0]?arguments[0]:arguments,plen=len(p);new_p[POINT_X]=0<plen&&!isnan(p[0])?p[0]:0;new_p[POINT_Y]=1<plen&&!isnan(p[1])?p[1]:0;new_p[POINT_Z]=2<plen&&!isnan(p[2])?p[2]:0;return new_p}function point_sum(p1,p2){var p={};p[POINT_X]=p1[POINT_X]+p2[POINT_X];p[POINT_Y]=p1[POINT_Y]+p2[POINT_Y];p[POINT_Z]=p1[POINT_Z]+p2[POINT_Z];return p}function point_sub(p1,p2){var p={};p[POINT_X]=p1[POINT_X]-p2[POINT_X];p[POINT_Y]=p1[POINT_Y]-p2[POINT_Y];p[POINT_Z]=p1[POINT_Z]-p2[POINT_Z];return p}function point_mul(p1,p2){var p={};p[POINT_X]=p1[POINT_X]*p2[POINT_X];p[POINT_Y]=p1[POINT_Y]*p2[POINT_Y];p[POINT_Z]=p1[POINT_Z]*p2[POINT_Z];return p}function point_div(p1,p2){var p={};p[POINT_X]=p1[POINT_X]/p2[POINT_X];p[POINT_Y]=p1[POINT_Y]/p2[POINT_Y];p[POINT_Z]=p1[POINT_Z]/p2[POINT_Z];return p}function point_mod(p1,p2){var p={};p[POINT_X]=p1[POINT_X]%p2[POINT_X];p[POINT_Y]=p1[POINT_Y]%p2[POINT_Y];p[POINT_Z]=p1[POINT_Z]%p2[POINT_Z];return p}function point_floor(p){var new_p={};new_p[POINT_X]=floor(p[POINT_X]);new_p[POINT_Y]=floor(p[POINT_Y]);new_p[POINT_Z]=floor(p[POINT_Z]);return new_p}function point_ceil(p){var new_p={};new_p[POINT_X]=ceil(p[POINT_X]);new_p[POINT_Y]=ceil(p[POINT_Y]);new_p[POINT_Z]=ceil(p[POINT_Z]);return new_p}function point_round(p){var new_p={};new_p[POINT_X]=round(p[POINT_X]);new_p[POINT_Y]=round(p[POINT_Y]);new_p[POINT_Z]=round(p[POINT_Z]);return new_p}function cam(){var new_cam={};cam_pos(new_cam,point());cam_scale(new_cam,CAM_DEFAULT_SCALE);cam_rsu(new_cam,CAM_DEFAULT_RSU);cam_update_axsiz(new_cam);return new_cam}function cam_update_axsiz(cam){var rsu=cam_scale(cam)*cam_rsu(cam);cam_axsiz(cam,point(rsu*CAM_RSU_COS,rsu*CAM_RSU_SIN,rsu))}function cam_set_rsu(cam,size){cam_rsu(cam,size);cam_update_axsiz()}function cam_set_scale(cam,scale){cam_scale(cam,scale);cam_update_axsiz(cam)}function cam_canvas2world(cam,p,el){if(2<len(arguments)){var bounds=dom_el_bounds(el);p=point_sub(p,point(obj_left(bounds),obj_top(bounds)))}var px=point_x(p),py=point_y(p),cp=cam_pos(cam),cpx=point_x(cp),cpy=point_y(cp),cpz=point_z(cp),as=cam_axsiz(cam),asx=point_x(as),asy=point_y(as),asz=point_z(as);return point((px+asx*cpx)/asx,(py+asy*cpy)/asy,cpz)}function cam_world2canvas(cam,p){var px=point_x(p),py=point_y(p),pz=point_z(p),cp=cam_pos(cam),cpx=point_x(cp),cpy=point_y(cp),cpz=point_z(cp),as=cam_axsiz(cam),asx=point_x(as),asy=point_y(as),asz=point_z(as);return point(asx*px-asx*cpx,asy*py-asy*cpy-asz*pz+asz*cpz)}function cam_spr2world(p){var px=point_x(p),py=point_y(p),pz=point_z(p);return point(px-py,px+py,pz)}function cam_canvas2tile(cam,p){}function cam_world2tile(cam,p){}var proto=obj_prop("prototype"),arr_proto=proto(Array),canvas_proto=proto(HTMLCanvasElement),canvas_ctx_proto=proto(CanvasRenderingContext2D),dom_el_proto=proto(HTMLElement),dom_ev_proto=proto(EventTarget);var _slice=arr_proto.slice,concat=arr_fn("concat"),index_of=arr_fn("indexOf"),push=arr_fn("push");var isnan=isNaN,PI=math_attr("PI"),floor=math_fn("floor"),ceil=math_fn("ceil"),round=math_fn("round"),random=math_fn("random"),sin=math_fn("sin"),cos=math_fn("cos"),atan2=math_fn("atan2"),min=math_fn("min"),max=math_fn("max");var obj2str=obj_fn("toString"),obj_width=obj_prop("width"),obj_height=obj_prop("height"),obj_top=obj_prop("top"),obj_right=obj_prop("right"),obj_bottom=obj_prop("bottom"),obj_left=obj_prop("left"),obj_clientx=obj_prop("clientX"),obj_clienty=obj_prop("clientY");var dom_el=dom_fn("getElementById"),dom_el_bounds=dom_el_fn("getBoundingClientRect"),dom_el_on=dom_ev_fn("addEventListener"),dom_el_off=dom_ev_fn("removeEventListener"),dom_el_trigger=dom_ev_fn("dispatchEvent"),_dom_ev,dom_el_onmousedown=dom_ev_onlistener(_dom_ev="mousedown"),dom_el_offmousedown=dom_ev_offlistener(_dom_ev),dom_el_mousedown=dom_ev_trigger(_dom_ev),dom_el_onmouseup=dom_ev_onlistener(_dom_ev="mouseup"),dom_el_offmouseup=dom_ev_offlistener(_dom_ev),dom_el_mouseup=dom_ev_trigger(_dom_ev),dom_el_onmousemove=dom_ev_onlistener(_dom_ev="mousemove"),dom_el_offmousemove=dom_ev_offlistener(_dom_ev),dom_el_mousemove=dom_ev_trigger(_dom_ev),dom_el_onmouseover=dom_ev_onlistener(_dom_ev="mouseover"),dom_el_offmouseover=dom_ev_offlistener(_dom_ev),dom_el_mouseover=dom_ev_trigger(_dom_ev),dom_el_onmouseout=dom_ev_onlistener(_dom_ev="mouseout"),dom_el_offmouseout=dom_ev_offlistener(_dom_ev),dom_el_mouseout=dom_ev_trigger(_dom_ev),dom_el_onmouseenter=dom_ev_onlistener(_dom_ev="mouseenter"),dom_el_offmouseenter=dom_ev_offlistener(_dom_ev),dom_el_mouseenter=dom_ev_trigger(_dom_ev),dom_el_onmouseleave=dom_ev_onlistener(_dom_ev="mouseleave"),dom_el_offmouseleave=dom_ev_offlistener(_dom_ev),dom_el_mouseleave=dom_ev_trigger(_dom_ev);var canvas_fill_style=obj_prop("fillStyle"),canvas_line_width=obj_prop("lineWidth"),canvas_stroke_style=obj_prop("strokeStyle"),canvas_get_ctx=canvas_fn("getContext"),canvas_save=canvas_ctx_fn("save"),canvas_restore=canvas_ctx_fn("restore"),canvas_begin_path=canvas_ctx_fn("beginPath"),canvas_close_path=canvas_ctx_fn("closePath"),canvas_move_to=canvas_ctx_fn("moveTo"),canvas_line_to=canvas_ctx_fn("lineTo"),canvas_fill=canvas_ctx_fn("fill"),canvas_stroke=canvas_ctx_fn("stroke"),canvas_clear_rect=canvas_ctx_fn("clearRect");var point_new_prop=obj_descriptor(),POINT_X=point_new_prop(),POINT_Y=point_new_prop(),POINT_Z=point_new_prop(),point_x=obj_prop(POINT_X),point_y=obj_prop(POINT_Y),point_z=obj_prop(POINT_Z);var CAM_DEFAULT_SCALE=1,CAM_DEFAULT_RSU=60,CAM_RSU_ANGLE=rad(30),CAM_RSU_SIN=sin(CAM_RSU_ANGLE),CAM_RSU_COS=cos(CAM_RSU_ANGLE),cam_new_prop=obj_descriptor(),CAM_POS=cam_new_prop(),CAM_SCALE=cam_new_prop(),CAM_RSU=cam_new_prop(),CAM_AXSIZ=cam_new_prop(),cam_pos=obj_prop(CAM_POS),cam_scale=obj_prop(CAM_SCALE),cam_rsu=obj_prop(CAM_RSU),cam_axsiz=obj_prop(CAM_AXSIZ);
//# sourceMappingURL=play-api/api.js.map